<ion-content>

  <div style="background-color: #333; height: 40px;">
    <button ion-button icon-only clear (click)="onBackPressed()">
      <ion-icon name="close" color="light"></ion-icon>
    </button>

    <button ion-button icon-only clear style="float: right;" (click)="onOptionsMenuPressed($event)">
      <ion-icon name="more" color="light"></ion-icon>
    </button>
  </div>

  <div padding>
    <b>
      <ion-input placeholder="Title" autocorrect="on" (ionChange)="onJournalContentChange()" [(ngModel)]="journal.title"></ion-input>
    </b>

    <hr>

    <div class="spinner">
      <div class="bounce1" [ngClass]="{hide: !isSaving}"></div>
      <div class="bounce2" [ngClass]="{hide: !isSaving}"></div>
      <div class="bounce3" [ngClass]="{hide: !isSaving}"></div>

      <span [ngClass]="{hide: isSaving}">{{ saveStatus }}</span>
    </div>

    <b>
      <ion-input placeholder="Preamble" autocorrect="on" (ionChange)="onJournalContentChange()" [(ngModel)]="journal.preamble"></ion-input>
    </b>

    <ion-textarea placeholder="Write to me" rows="10" autocorrect="on" (ionChange)="onJournalContentChange()" [(ngModel)]="journal.content"></ion-textarea>
  </div>

</ion-content>

<ion-footer padding>
  <ion-chip style="margin: 2px;" *ngFor="let tag of journal.tags">
    <ion-icon name="bookmark"></ion-icon>
    <ion-label>{{ tag }}</ion-label>
    <button ion-button clear color="primary" (click)="onRemoveJournalTag(tag)">
      <ion-icon name="close-circle"></ion-icon>
    </button>
  </ion-chip>

  <br/>
  <ion-input #tagInput placeholder="Add tags" autocorrect="on" (keypress)="onAddJournalTag(tagInput, $event)"></ion-input>
</ion-footer>

